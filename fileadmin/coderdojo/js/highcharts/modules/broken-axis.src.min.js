!function(a){return"object"==typeof module&&module.exports?void(module.exports=a):void a(Highcharts)}(function(a){"use strict";function b(){return Array.prototype.slice.call(arguments,1)}function c(a){a.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,d(this.pointArrayMap,["y"]))}var d=a.pick,e=a.wrap,f=a.each,g=a.extend,h=a.fireEvent,i=a.Axis,j=a.Series;g(i.prototype,{isInBreak:function(a,b){var c,d=a.repeat||1/0,e=a.from,f=a.to-a.from,g=b>=e?(b-e)%d:d-(e-b)%d;return c=a.inclusive?g<=f:g<f&&0!==g},isInAnyBreak:function(a,b){var c,e,f,g=this.options.breaks,h=g&&g.length;if(h){for(;h--;)this.isInBreak(g[h],a)&&(c=!0,e||(e=d(g[h].showPoints,!this.isXAxis)));f=c&&b?c&&!e:c}return f}}),e(i.prototype,"setTickPositions",function(a){if(a.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var b,c=this,d=this.tickPositions,e=this.tickPositions.info,f=[];for(b=0;b<d.length;b++)c.isInAnyBreak(d[b])||f.push(d[b]);this.tickPositions=f,this.tickPositions.info=e}}),e(i.prototype,"init",function(a,b,c){if(c.breaks&&c.breaks.length&&(c.ordinal=!1),a.call(this,b,c),this.options.breaks){var d=this;d.isBroken=!0,this.val2lin=function(a){var b,c,e=a;for(c=0;c<d.breakArray.length;c++)if(b=d.breakArray[c],b.to<=a)e-=b.len;else{if(b.from>=a)break;if(d.isInBreak(b,a)){e-=a-b.from;break}}return e},this.lin2val=function(a){var b,c,e=a;for(c=0;c<d.breakArray.length&&(b=d.breakArray[c],!(b.from>=e));c++)b.to<e?e+=b.len:d.isInBreak(b,e)&&(e+=b.len);return e},this.setExtremes=function(a,b,c,d,e){for(;this.isInAnyBreak(a);)a-=this.closestPointRange;for(;this.isInAnyBreak(b);)b-=this.closestPointRange;i.prototype.setExtremes.call(this,a,b,c,d,e)},this.setAxisTranslation=function(a){i.prototype.setAxisTranslation.call(this,a);var b,c,e,f,g,j,k=d.options.breaks,l=[],m=[],n=0,o=d.userMin||d.min,p=d.userMax||d.max;for(g in k)e=k[g],c=e.repeat||1/0,d.isInBreak(e,o)&&(o+=e.to%c-o%c),d.isInBreak(e,p)&&(p-=p%c-e.from%c);for(g in k){for(e=k[g],f=e.from,c=e.repeat||1/0;f-c>o;)f-=c;for(;f<o;)f+=c;for(j=f;j<p;j+=c)l.push({value:j,move:"in"}),l.push({value:j+(e.to-e.from),move:"out",size:e.breakSize})}l.sort(function(a,b){var c;return c=a.value===b.value?("in"===a.move?0:1)-("in"===b.move?0:1):a.value-b.value}),b=0,f=o;for(g in l)e=l[g],b+="in"===e.move?1:-1,1===b&&"in"===e.move&&(f=e.value),0===b&&(m.push({from:f,to:e.value,len:e.value-f-(e.size||0)}),n+=e.value-f-(e.size||0));d.breakArray=m,h(d,"afterBreaks"),d.transA*=(p-d.min)/(p-o-n),d.min=o,d.max=p}}}),e(j.prototype,"generatePoints",function(a){a.apply(this,b(arguments));var c,d,e=this,f=e.xAxis,g=e.yAxis,h=e.points,i=h.length,j=e.options.connectNulls;if(f&&g&&(f.options.breaks||g.options.breaks))for(;i--;)c=h[i],d=null===c.y&&j===!1,d||!f.isInAnyBreak(c.x,!0)&&!g.isInAnyBreak(c.y,!0)||(h.splice(i,1),this.data[i]&&this.data[i].destroyElements())}),a.Series.prototype.drawBreaks=function(a,b){var c,e,g,i,j=this,k=j.points;f(b,function(b){c=a.breakArray||[],e=a.isXAxis?a.min:d(j.options.threshold,a.min),f(k,function(j){i=d(j["stack"+b.toUpperCase()],j[b]),f(c,function(b){g=!1,e<b.from&&i>b.to||e>b.from&&i<b.from?g="pointBreak":(e<b.from&&i>b.from&&i<b.to||e>b.from&&i>b.to&&i<b.from)&&(g="pointInBreak"),g&&h(a,g,{point:j,brk:b})})})})},e(a.seriesTypes.column.prototype,"drawPoints",c),e(a.Series.prototype,"drawPoints",c)});
//# sourceMappingURL=broken-axis.src.min.js.map