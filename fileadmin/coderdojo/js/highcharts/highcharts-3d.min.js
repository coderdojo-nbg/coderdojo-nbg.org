!function(a){"object"==typeof module&&module.exports?module.exports=a:a(Highcharts)}(function(a){function b(a,b,c){var d,e,f=b.options.chart.options3d,g=!1,h=b.scale3d||1;c?(g=b.inverted,c=b.plotWidth/2,b=b.plotHeight/2,d=f.depth/2,e=m(f.depth,1)*m(f.viewDistance,0)):(c=b.plotLeft+b.plotWidth/2,b=b.plotTop+b.plotHeight/2,d=f.depth/2,e=m(f.depth,1)*m(f.viewDistance,0));var j,k,l,n,o,s,t=[],u=c,v=b,w=d,x=e,c=p*(g?f.beta:-f.beta),f=p*(g?-f.alpha:f.alpha),y=q(c),z=r(c),A=q(f),B=r(f);return i(a,function(a){j=(g?a.y:a.x)-u,k=(g?a.x:a.y)-v,l=(a.z||0)-w,n=z*j-y*l,o=-y*A*j+B*k-z*A*l,s=y*B*j+A*k+z*B*l,x>0&&x<Number.POSITIVE_INFINITY&&(n*=x/(s+w+x),o*=x/(s+w+x)),n=n*h+u,o=o*h+v,s=s*h+w,t.push({x:g?o:n,y:g?n:o,z:s})}),t}function c(a){return void 0!==a&&null!==a}function d(a){var b,c,d=0;for(b=0;b<a.length;b++)c=(b+1)%a.length,d+=a[b].x*a[c].y-a[c].x*a[b].y;return d/2}function e(a){var b,c=0;for(b=0;b<a.length;b++)c+=a[b].z;return a.length?c/a.length:0}function f(a,b,c,d,e,g,h,i){var j=[];return g>e&&g-e>o/2+1e-4?(j=j.concat(f(a,b,c,d,e,e+o/2,h,i)),j=j.concat(f(a,b,c,d,e+o/2,g,h,i))):g<e&&e-g>o/2+1e-4?(j=j.concat(f(a,b,c,d,e,e-o/2,h,i)),j=j.concat(f(a,b,c,d,e-o/2,g,h,i))):(j=g-e,j=["C",a+c*r(e)-c*t*j*q(e)+h,b+d*q(e)+d*t*j*r(e)+i,a+c*r(g)+c*t*j*q(g)+h,b+d*q(g)-d*t*j*r(g)+i,a+c*r(g)+h,b+d*q(g)+i]),j}function g(b){if(this.chart.is3d()){var d=this.chart.options.plotOptions.column.grouping;void 0===d||d||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0);var e=this.options,f=this.options.states;this.borderWidth=e.borderWidth=c(e.edgeWidth)?e.edgeWidth:1,a.each(this.data,function(b){null!==b.y&&(b=b.pointAttr,this.borderColor=a.pick(e.edgeColor,b[""].fill),b[""].stroke=this.borderColor,b.hover.stroke=a.pick(f.hover.edgeColor,this.borderColor),b.select.stroke=a.pick(f.select.edgeColor,this.borderColor))})}b.apply(this,[].slice.call(arguments,1))}var h=a.animObject,i=a.each,j=a.extend,k=a.inArray,l=a.merge,m=a.pick,n=a.wrap,o=Math.PI,p=o/180,q=Math.sin,r=Math.cos,s=Math.round;a.perspective=b;var t=4*(Math.sqrt(2)-1)/3/(o/2);a.SVGRenderer.prototype.toLinePath=function(b,c){var d=[];return a.each(b,function(a){d.push("L",a.x,a.y)}),b.length&&(d[0]="M",c&&d.push("Z")),d},a.SVGRenderer.prototype.cuboid=function(b){var d=this.g(),b=this.cuboidPath(b);return d.front=this.path(b[0]).attr({zIndex:b[3],"stroke-linejoin":"round"}).add(d),d.top=this.path(b[1]).attr({zIndex:b[4],"stroke-linejoin":"round"}).add(d),d.side=this.path(b[2]).attr({zIndex:b[5],"stroke-linejoin":"round"}).add(d),d.fillSetter=function(b){var c=a.Color(b).brighten(.1).get(),d=a.Color(b).brighten(-.1).get();return this.front.attr({fill:b}),this.top.attr({fill:c}),this.side.attr({fill:d}),this.color=b,this},d.opacitySetter=function(a){return this.front.attr({opacity:a}),this.top.attr({opacity:a}),this.side.attr({opacity:a}),this},d.attr=function(b){return b.shapeArgs||c(b.x)?(b=this.renderer.cuboidPath(b.shapeArgs||b),this.front.attr({d:b[0],zIndex:b[3]}),this.top.attr({d:b[1],zIndex:b[4]}),this.side.attr({d:b[2],zIndex:b[5]}),this):a.SVGElement.prototype.attr.call(this,b)},d.animate=function(b,d,e){return c(b.x)&&c(b.y)?(b=this.renderer.cuboidPath(b),this.front.attr({zIndex:b[3]}).animate({d:b[0]},d,e),this.top.attr({zIndex:b[4]}).animate({d:b[1]},d,e),this.side.attr({zIndex:b[5]}).animate({d:b[2]},d,e),this.attr({zIndex:-b[6]})):b.opacity?(this.front.animate(b,d,e),this.top.animate(b,d,e),this.side.animate(b,d,e)):a.SVGElement.prototype.animate.call(this,b,d,e),this},d.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},d.attr({zIndex:-b[6]}),d},a.SVGRenderer.prototype.cuboidPath=function(c){function f(a){return n[a]}var g=c.x,h=c.y,i=c.z,j=c.height,k=c.width,l=c.depth,m=a.map,n=[{x:g,y:h,z:i},{x:g+k,y:h,z:i},{x:g+k,y:h+j,z:i},{x:g,y:h+j,z:i},{x:g,y:h+j,z:i+l},{x:g+k,y:h+j,z:i+l},{x:g+k,y:h,z:i+l},{x:g,y:h,z:i+l}],n=b(n,a.charts[this.chartIndex],c.insidePlotArea),i=function(a,b){var c=[],a=m(a,f),b=m(b,f);return d(a)<0?c=a:d(b)<0&&(c=b),c},c=i([3,2,1,0],[7,6,5,4]),g=[4,5,2,3],h=i([1,6,7,0],g),i=i([1,2,5,6],[0,7,4,3]);return[this.toLinePath(c,!0),this.toLinePath(h,!0),this.toLinePath(i,!0),e(c),e(h),e(i),9e9*e(m(g,f))]},a.SVGRenderer.prototype.arc3d=function(b){function c(a){var b,c=!1,d={};for(b in a)k(b,f)!==-1&&(d[b]=a[b],delete a[b],c=!0);return!!c&&d}var d=this.g(),e=d.renderer,f="x,y,r,innerR,start,end".split(","),b=l(b);return b.alpha*=p,b.beta*=p,d.top=e.path(),d.side1=e.path(),d.side2=e.path(),d.inn=e.path(),d.out=e.path(),d.onAdd=function(){var a=d.parentGroup;d.top.add(d),d.out.add(a),d.inn.add(a),d.side1.add(a),d.side2.add(a)},d.setPaths=function(a){var b=d.renderer.arc3dPath(a),c=100*b.zTop;d.attribs=a,d.top.attr({d:b.top,zIndex:b.zTop}),d.inn.attr({d:b.inn,zIndex:b.zInn}),d.out.attr({d:b.out,zIndex:b.zOut}),d.side1.attr({d:b.side1,zIndex:b.zSide1}),d.side2.attr({d:b.side2,zIndex:b.zSide2}),d.zIndex=c,d.attr({zIndex:c}),a.center&&(d.top.setRadialReference(a.center),delete a.center)},d.setPaths(b),d.fillSetter=function(b){var c=a.Color(b).brighten(-.1).get();return this.fill=b,this.side1.attr({fill:c}),this.side2.attr({fill:c}),this.inn.attr({fill:c}),this.out.attr({fill:c}),this.top.attr({fill:b}),this},i(["opacity","translateX","translateY","visibility"],function(a){d[a+"Setter"]=function(a,b){d[b]=a,i(["out","inn","side1","side2","top"],function(c){d[c].attr(b,a)})}}),n(d,"attr",function(a,b,e){var f;return"object"==typeof b&&(f=c(b))&&(j(d.attribs,f),d.setPaths(d.attribs)),a.call(this,b,e)}),n(d,"animate",function(a,b,d,e){var f,g,i=this.attribs;return delete b.center,delete b.z,delete b.depth,delete b.alpha,delete b.beta,d=h(m(d,this.renderer.globalAnimation)),d.duration&&(b=l(b),f=c(b))&&(g=f,d.step=function(a,b){function c(a){return i[a]+(m(g[a],i[a])-i[a])*b.pos}b.elem.setPaths(l(i,{x:c("x"),y:c("y"),r:c("r"),innerR:c("innerR"),start:c("start"),end:c("end")}))}),a.call(this,b,d,e)}),d.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),a.SVGElement.prototype.destroy.call(this)},d.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},d.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},d},a.SVGRenderer.prototype.arc3dPath=function(a){function b(a){return a%=2*o,a>o&&(a=2*o-a),a}var c=a.x,d=a.y,e=a.start,g=a.end-1e-5,h=a.r,i=a.innerR,j=a.depth,k=a.alpha,l=a.beta,m=r(e),n=q(e),a=r(g),p=q(g),s=h*r(l);h*=r(k);var t=i*r(l),u=i*r(k),i=j*q(l),v=j*q(k),j=["M",c+s*m,d+h*n],j=j.concat(f(c,d,s,h,e,g,0,0)),j=j.concat(["L",c+t*a,d+u*p]),j=j.concat(f(c,d,t,u,g,e,0,0)),j=j.concat(["Z"]),w=l>0?o/2:0,l=k>0?0:o/2,w=e>-w?e:g>-w?-w:e,x=g<o-l?g:e<o-l?o-l:g,y=2*o-l,k=["M",c+s*r(w),d+h*q(w)],k=k.concat(f(c,d,s,h,w,x,0,0));return g>y&&e<y?(k=k.concat(["L",c+s*r(x)+i,d+h*q(x)+v]),k=k.concat(f(c,d,s,h,x,y,i,v)),k=k.concat(["L",c+s*r(y),d+h*q(y)]),k=k.concat(f(c,d,s,h,y,g,0,0)),k=k.concat(["L",c+s*r(g)+i,d+h*q(g)+v]),k=k.concat(f(c,d,s,h,g,y,i,v)),k=k.concat(["L",c+s*r(y),d+h*q(y)]),k=k.concat(f(c,d,s,h,y,x,0,0))):g>o-l&&e<o-l&&(k=k.concat(["L",c+s*r(x)+i,d+h*q(x)+v]),k=k.concat(f(c,d,s,h,x,g,i,v)),k=k.concat(["L",c+s*r(g),d+h*q(g)]),k=k.concat(f(c,d,s,h,g,x,0,0))),k=k.concat(["L",c+s*r(x)+i,d+h*q(x)+v]),k=k.concat(f(c,d,s,h,x,w,i,v)),k=k.concat(["Z"]),l=["M",c+t*m,d+u*n],l=l.concat(f(c,d,t,u,e,g,0,0)),l=l.concat(["L",c+t*r(g)+i,d+u*q(g)+v]),l=l.concat(f(c,d,t,u,g,e,i,v)),l=l.concat(["Z"]),m=["M",c+s*m,d+h*n,"L",c+s*m+i,d+h*n+v,"L",c+t*m+i,d+u*n+v,"L",c+t*m,d+u*n,"Z"],c=["M",c+s*a,d+h*p,"L",c+s*a+i,d+h*p+v,"L",c+t*a+i,d+u*p+v,"L",c+t*a,d+u*p,"Z"],p=Math.atan2(v,-i),d=Math.abs(g+p),a=Math.abs(e+p),e=Math.abs((e+g)/2+p),d=b(d),a=b(a),e=b(e),e*=1e5,g=1e5*a,d*=1e5,{top:j,zTop:1e5*o+1,out:k,zOut:Math.max(e,g,d),inn:l,zInn:Math.max(e,g,d),side1:m,zSide1:.99*d,side2:c,zSide2:.99*g}},a.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},a.wrap(a.Chart.prototype,"getMargins",function(a){var c=this.options.chart.options3d,d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=Number.MAX_VALUE,g=-Number.MAX_VALUE,h=this.plotLeft,j=this.plotWidth+h,k=this.plotTop,l=this.plotHeight+k,m=h+this.plotWidth/2,n=k+this.plotHeight/2,o=1,p=[];if(a.apply(this,[].slice.call(arguments,1)),this.is3d()&&c.fitToPlot===!0){for(this.scale3d=1,p=[{x:h,y:k,z:0},{x:h,y:k,z:c.depth}],c=0;c<2;c++)p.push({x:j,y:p[c].y,z:p[c].z});for(c=0;c<4;c++)p.push({x:p[c].x,y:l,z:p[c].z});p=b(p,this,!1),i(p,function(a){d=Math.min(d,a.x),e=Math.max(e,a.x),f=Math.min(f,a.y),g=Math.max(g,a.y)}),h>d&&(o=Math.min(o,1-Math.abs((h+m)/(d+m))%1)),j<e&&(o=Math.min(o,(j-m)/(e-m))),k>f&&(o=f<0?Math.min(o,(k+n)/(-f+k+n)):Math.min(o,1-(k+n)/(f+n)%1)),l<g&&(o=Math.min(o,Math.abs((l-n)/(g-n)))),this.scale3d=o}}),a.wrap(a.Chart.prototype,"isInsidePlot",function(a){return this.is3d()||a.apply(this,[].slice.call(arguments,1))}),a.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},a.wrap(a.Chart.prototype,"init",function(b){var c,d=[].slice.call(arguments,1);d[0].chart&&d[0].chart.options3d&&d[0].chart.options3d.enabled&&(d[0].chart.options3d.alpha=(d[0].chart.options3d.alpha||0)%360,d[0].chart.options3d.beta=(d[0].chart.options3d.beta||0)%360,c=d[0].plotOptions||{},c=c.pie||{},c.borderColor=a.pick(c.borderColor,void 0)),b.apply(this,d)}),a.wrap(a.Chart.prototype,"setChartSize",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.is3d()){var b=this.inverted,c=this.clipBox,d=this.margin;c[b?"y":"x"]=-(d[3]||0),c[b?"x":"y"]=-(d[0]||0),c[b?"height":"width"]=this.chartWidth+(d[3]||0)+(d[1]||0),c[b?"width":"height"]=this.chartHeight+(d[0]||0)+(d[2]||0)}}),a.wrap(a.Chart.prototype,"redraw",function(a){this.is3d()&&(this.isDirtyBox=!0),a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Chart.prototype,"renderSeries",function(a){var b=this.series.length;if(this.is3d())for(;b--;)a=this.series[b],a.translate(),a.render();else a.call(this)}),a.Chart.prototype.retrieveStacks=function(b){var c,d=this.series,e={},f=1;return a.each(this.series,function(a){c=m(a.options.stack,b?0:d.length-1-a.index),e[c]?e[c].series.push(a):(e[c]={series:[a],position:f},f++)}),e.totalStacks=f+1,e},a.wrap(a.Axis.prototype,"setOptions",function(b,c){var d;b.call(this,c),this.chart.is3d()&&(d=this.options,d.tickWidth=a.pick(d.tickWidth,0),d.gridLineWidth=a.pick(d.gridLineWidth,1))}),a.wrap(a.Axis.prototype,"render",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this.chart,c=b.renderer,d=b.options.chart.options3d,e=d.frame,f=e.bottom,g=e.back,e=e.side,h=d.depth,i=this.height,j=this.width,k=this.left,l=this.top;this.isZAxis||(this.horiz?(g={x:k,y:l+(b.xAxis[0].opposite?-f.size:i),z:0,width:j,height:f.size,depth:h,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(g):this.bottomFrame=c.cuboid(g).attr({fill:f.color,zIndex:b.yAxis[0].reversed&&d.alpha>0?4:-1}).css({stroke:f.color}).add()):(d={x:k+(b.yAxis[0].opposite?0:-e.size),y:l+(b.xAxis[0].opposite?-f.size:0),z:h,width:j+e.size,height:i+f.size,depth:g.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(d):this.backFrame=c.cuboid(d).attr({fill:g.color,zIndex:-3}).css({stroke:g.color}).add(),b={x:k+(b.yAxis[0].opposite?j:-e.size),y:l+(b.xAxis[0].opposite?-f.size:0),z:0,width:e.size,height:i+f.size,depth:h,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(b):this.sideFrame=c.cuboid(b).attr({fill:e.color,zIndex:-2}).css({stroke:e.color}).add()))}}),a.wrap(a.Axis.prototype,"getPlotLinePath",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return c;if(null===c)return c;var d=this.chart,e=d.options.chart.options3d,d=this.isZAxis?d.plotWidth:e.depth,e=this.opposite;return this.horiz&&(e=!e),c=[this.swapZ({x:c[1],y:c[2],z:e?d:0}),this.swapZ({x:c[1],y:c[2],z:d}),this.swapZ({x:c[4],y:c[5],z:d}),this.swapZ({x:c[4],y:c[5],z:e?0:d})],c=b(c,this.chart,!1),c=this.chart.renderer.toLinePath(c,!1)}),a.wrap(a.Axis.prototype,"getLinePath",function(a){return this.chart.is3d()?[]:a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Axis.prototype,"getPlotBandPath",function(a){if(!this.chart.is3d())return a.apply(this,[].slice.call(arguments,1));var b=arguments,c=b[1],b=this.getPlotLinePath(b[2]);return(c=this.getPlotLinePath(c))&&b?c.push("L",b[10],b[11],"L",b[7],b[8],"L",b[4],b[5],"L",b[1],b[2]):c=null,c}),a.wrap(a.Tick.prototype,"getMarkPath",function(a){var c=a.apply(this,[].slice.call(arguments,1));return this.axis.chart.is3d()?(c=[this.axis.swapZ({x:c[1],y:c[2],z:0}),this.axis.swapZ({x:c[4],y:c[5],z:0})],c=b(c,this.axis.chart,!1),c=["M",c[0].x,c[0].y,"L",c[1].x,c[1].y]):c}),a.wrap(a.Tick.prototype,"getLabelPosition",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return c;var d=b([this.axis.swapZ({x:c.x,y:c.y,z:0})],this.axis.chart,!1)[0];return d.x-=!this.axis.horiz&&this.axis.opposite?this.axis.transA:0,d.old=c,d}),a.wrap(a.Tick.prototype,"handleOverflow",function(a,b){return this.axis.chart.is3d()&&(b=b.old),a.call(this,b)}),a.wrap(a.Axis.prototype,"getTitlePosition",function(a){var c,d,e=this.chart.is3d();return e&&(d=this.axisTitleMargin,this.axisTitleMargin=0),c=a.apply(this,[].slice.call(arguments,1)),e&&(c=b([this.swapZ({x:c.x,y:c.y,z:0})],this.chart,!1)[0],c[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*d,this.axisTitleMargin=d),c}),a.wrap(a.Axis.prototype,"drawCrosshair",function(a){var b=arguments;this.chart.is3d()&&b[2]&&(b[2]={plotX:b[2].plotXold||b[2].plotX,plotY:b[2].plotYold||b[2].plotY}),a.apply(this,[].slice.call(b,1))}),a.Axis.prototype.swapZ=function(a,b){if(this.isZAxis){var c=b?0:this.chart.plotLeft,d=this.chart;return{x:c+(d.yAxis[0].opposite?a.z:d.xAxis[0].width-a.z),y:a.y,z:a.x-c}}return a};var u=a.ZAxis=function(){this.isZAxis=!0,this.init.apply(this,arguments)};a.extend(u.prototype,a.Axis.prototype),a.extend(u.prototype,{setOptions:function(b){b=a.merge({offset:0,lineWidth:0},b),a.Axis.prototype.setOptions.call(this,b),this.coll="zAxis"},setAxisSize:function(){a.Axis.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var b=this,c=b.chart;b.hasVisibleSeries=!1,b.dataMin=b.dataMax=b.ignoreMinPadding=b.ignoreMaxPadding=null,b.buildStacks&&b.buildStacks(),a.each(b.series,function(a){!a.visible&&c.options.chart.ignoreHiddenSeries||(b.hasVisibleSeries=!0,a=a.zData,a.length&&(b.dataMin=Math.min(m(b.dataMin,a[0]),Math.min.apply(null,a)),b.dataMax=Math.max(m(b.dataMax,a[0]),Math.max.apply(null,a))))})}}),a.wrap(a.Chart.prototype,"getAxes",function(b){var c=this,d=this.options,d=d.zAxis=a.splat(d.zAxis||{});b.call(this),c.is3d()&&(this.zAxis=[],a.each(d,function(a,b){a.index=b,a.isX=!0,new u(c,a).setScale()}))}),a.wrap(a.seriesTypes.column.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var d=this.chart,e=this.options,f=e.depth||25,g=(e.stacking?e.stack||0:this._i)*(f+(e.groupZPadding||1));e.grouping!==!1&&(g=0),g+=e.groupZPadding||1,a.each(this.data,function(a){if(null!==a.y){var c=a.shapeArgs,e=a.tooltipPos;a.shapeType="cuboid",c.z=g,c.depth=f,c.insidePlotArea=!0,e=b([{x:e[0],y:e[1],z:g}],d,!0)[0],a.tooltipPos=[e.x,e.y]}}),this.z=g}}),a.wrap(a.seriesTypes.column.prototype,"animate",function(b){if(this.chart.is3d()){var c=arguments[1],d=this.yAxis,e=this,f=this.yAxis.reversed;a.svg&&(c?a.each(e.data,function(a){null===a.y||(a.height=a.shapeArgs.height,a.shapey=a.shapeArgs.y,a.shapeArgs.height=1,f)||(a.shapeArgs.y=a.stackY?a.plotY+d.translate(a.stackY):a.plotY+(a.negative?-a.height:a.height))}):(a.each(e.data,function(a){null!==a.y&&(a.shapeArgs.height=a.height,a.shapeArgs.y=a.shapey,a.graphic&&a.graphic.animate(a.shapeArgs,e.options.animation))}),this.drawDataLabels(),e.animate=null))}else b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.column.prototype,"init",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this.options,c=b.grouping,d=b.stacking,e=m(this.yAxis.options.reversedStacks,!0),f=0;if(void 0===c||c){for(c=this.chart.retrieveStacks(d),f=b.stack||0,d=0;d<c[f].series.length&&c[f].series[d]!==this;d++);f=10*(c.totalStacks-c[f].position)+(e?d:-d),this.xAxis.reversed||(f=10*c.totalStacks-f)}b.zIndex=f}}),a.wrap(a.Series.prototype,"alignDataLabel",function(a){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var c=arguments[4],d={x:c.x,y:c.y,z:this.z},d=b([d],this.chart,!0)[0];c.x=d.x,c.y=d.y}a.apply(this,[].slice.call(arguments,1))}),a.seriesTypes.columnrange&&a.wrap(a.seriesTypes.columnrange.prototype,"drawPoints",g),a.wrap(a.seriesTypes.column.prototype,"drawPoints",g),a.wrap(a.seriesTypes.pie.prototype,"translate",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this,c=b.options,d=c.depth||0,e=b.chart.options.chart.options3d,f=e.alpha,g=e.beta,h=c.stacking?(c.stack||0)*d:b._i*d;h+=d/2,c.grouping!==!1&&(h=0),i(b.data,function(a){var e=a.shapeArgs;a.shapeType="arc3d",e.z=h,e.depth=.75*d,e.alpha=f,e.beta=g,e.center=b.center,e=(e.end+e.start)/2,a.slicedTranslation={translateX:s(r(e)*c.slicedOffset*r(f*p)),translateY:s(q(e)*c.slicedOffset*r(f*p))}})}}),a.wrap(a.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(a){var b=arguments;return this.series.chart.is3d()?[]:a.call(this,b[1])}),a.wrap(a.seriesTypes.pie.prototype,"drawPoints",function(b){var c=this.options,d=c.states;this.chart.is3d()&&(this.borderWidth=c.borderWidth=c.edgeWidth||1,this.borderColor=c.edgeColor=a.pick(c.edgeColor,c.borderColor,void 0),d.hover.borderColor=a.pick(d.hover.edgeColor,this.borderColor),d.hover.borderWidth=a.pick(d.hover.edgeWidth,this.borderWidth),d.select.borderColor=a.pick(d.select.edgeColor,this.borderColor),d.select.borderWidth=a.pick(d.select.edgeWidth,this.borderWidth),i(this.data,function(a){var b=a.pointAttr;b[""].stroke=a.series.borderColor||a.color,b[""]["stroke-width"]=a.series.borderWidth,b.hover.stroke=d.hover.borderColor,b.hover["stroke-width"]=d.hover.borderWidth,b.select.stroke=d.select.borderColor,b.select["stroke-width"]=d.select.borderWidth})),b.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&i(this.points,function(a){var b=a.graphic;b&&b[a.y&&a.visible?"show":"hide"]()})}),a.wrap(a.seriesTypes.pie.prototype,"drawDataLabels",function(a){if(this.chart.is3d()){var b=this.chart.options.chart.options3d;i(this.data,function(a){var c=a.shapeArgs,d=c.r,e=(c.beta||b.beta)*p,f=(c.start+c.end)/2,g=a.labelPos,h=-d*(1-r((c.alpha||b.alpha)*p))*q(f),j=d*(r(e)-1)*r(f);i([0,2,4],function(a){g[a]+=j,g[a+1]+=h})})}a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.pie.prototype,"addPoint",function(a){a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),a.wrap(a.seriesTypes.pie.prototype,"animate",function(b){if(this.chart.is3d()){var c=arguments[1],d=this.options.animation,e=this.center,f=this.group,g=this.markerGroup;a.svg&&(d===!0&&(d={}),c?(f.oldtranslateX=f.translateX,f.oldtranslateY=f.translateY,c={translateX:e[0],translateY:e[1],scaleX:.001,scaleY:.001},f.attr(c),g&&(g.attrSetters=f.attrSetters,g.attr(c))):(c={translateX:f.oldtranslateX,translateY:f.oldtranslateY,scaleX:1,scaleY:1},f.animate(c,d),g&&g.animate(c,d),this.animate=null))}else b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.scatter.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var d,e,f,g=this.chart,h=a.pick(this.zAxis,g.options.zAxis[0]),i=[];for(f=0;f<this.data.length;f++)d=this.data[f],e=h.isLog&&h.val2lin?h.val2lin(d.z):d.z,d.plotZ=h.translate(e),d.isInside=!!d.isInside&&(e>=h.min&&e<=h.max),i.push({x:d.plotX,y:d.plotY,z:d.plotZ});for(g=b(i,g,!0),f=0;f<this.data.length;f++)d=this.data[f],h=g[f],d.plotXold=d.plotX,d.plotYold=d.plotY,d.plotX=h.x,d.plotY=h.y,d.plotZ=h.z}}),a.wrap(a.seriesTypes.scatter.prototype,"init",function(a,b,c){return b.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0),a=a.apply(this,[b,c]),this.chart.is3d()&&(this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"),a}),a.VMLRenderer&&(a.setOptions({animate:!1}),a.VMLRenderer.prototype.cuboid=a.SVGRenderer.prototype.cuboid,a.VMLRenderer.prototype.cuboidPath=a.SVGRenderer.prototype.cuboidPath,a.VMLRenderer.prototype.toLinePath=a.SVGRenderer.prototype.toLinePath,a.VMLRenderer.prototype.createElement3D=a.SVGRenderer.prototype.createElement3D,a.VMLRenderer.prototype.arc3d=function(b){return b=a.SVGRenderer.prototype.arc3d.call(this,b),b.css({zIndex:b.zIndex}),b},a.VMLRenderer.prototype.arc3dPath=a.SVGRenderer.prototype.arc3dPath,a.wrap(a.Axis.prototype,"render",function(a){a.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))});
//# sourceMappingURL=highcharts-3d.min.js.map